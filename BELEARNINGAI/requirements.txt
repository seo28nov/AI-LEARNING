# ============================================================================
# BeLearning AI - Educational Platform Requirements
# ============================================================================
# Last updated: 2025-10-16
# Python version: 3.11+

# ----------------------------------------------------------------------------
# Core Framework
# ----------------------------------------------------------------------------
fastapi==0.116.2                    # Modern async web framework
uvicorn[standard]==0.35.0          # ASGI server với WebSocket support

# ----------------------------------------------------------------------------
# Data Validation & Settings
# ----------------------------------------------------------------------------
pydantic==2.11.1                   # Data validation và serialization
pydantic-settings==2.10.1          # Settings management từ .env
email-validator==2.0.0             # Email validation

# ----------------------------------------------------------------------------
# Database - MongoDB
# ----------------------------------------------------------------------------
motor==3.6.0                       # Async MongoDB driver
pymongo==4.9.1               # MongoDB driver (required by motor)
dnspython==2.7.0                   # DNS support for MongoDB Atlas
beanie==1.27.0                     # Async ODM for MongoDB (compatible with pydantic 2.x)

# ----------------------------------------------------------------------------
# Authentication & Security
# ----------------------------------------------------------------------------
python-jose[cryptography]==3.3.0   # JWT token handling
passlib[bcrypt]==1.7.4             # Password hashing với bcrypt

# ----------------------------------------------------------------------------
# File Uploads & Processing
# ----------------------------------------------------------------------------
python-multipart==0.0.20           # Form data và file upload parsing
aiofiles==24.1.0                   # Async file operations
python-magic==0.4.27               # File type detection
python-magic-bin==0.4.14 ; sys_platform == "win32"  # Windows binary
PyPDF2==3.0.1                      # PDF processing và text extraction

# ----------------------------------------------------------------------------
# AI & Machine Learning - Google AI
# ----------------------------------------------------------------------------
google-generativeai==0.8.3         # Google Gemini API (chat, generation)
google-auth==2.40.3                # Google authentication

# ----------------------------------------------------------------------------
# Vector Database - FAISS (thay thế ChromaDB)
# ----------------------------------------------------------------------------

faiss-cpu==1.9.0                   # Facebook AI Similarity Search - CPU version
numpy>=1.24.0                      # Required for FAISS vector operations
pydantic>=2.0                      # Already included above

# Note: Chuyển từ ChromaDB sang FAISS để tránh lỗi build hnswlib trên Windows
# FAISS có pre-built wheels, không cần Visual C++ Build Tools

# ----------------------------------------------------------------------------
# HTTP Client & Utilities
# ----------------------------------------------------------------------------
httpx==0.28.1                      # Async HTTP client
python-dotenv==1.0.0               # Load environment variables từ .env

# ----------------------------------------------------------------------------
# Testing & Development Tools
# ----------------------------------------------------------------------------
pytest==8.4.2                      # Testing framework
pytest-asyncio==0.24.0             # Async test support
coverage==7.6.4                    # Code coverage reporting

# Optional: Code formatting & linting (uncomment if needed)
# black==24.8.0                    # Code formatter
# isort==5.13.2                    # Import sorter
# mypy==1.11.2                     # Static type checker
# ruff==0.6.9                      # Fast linter

# ============================================================================
# Installation Instructions:
# ============================================================================
# 1. Create virtual environment:
#    python -m venv venv
#    venv\Scripts\activate  (Windows)
#    source venv/bin/activate  (Linux/Mac)
#
# 2. Install dependencies:
#    pip install -r requirements.txt
#
# 3. Setup .env file với required keys:
#    - MONGODB_URL
#    - SECRET_KEY
#    - GOOGLE_API_KEY
#    - VECTOR_PERSIST_DIRECTORY=./faiss_db
#
# ============================================================================
